<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/webjars/angular-material/0.10.0/angular-material.css"> 
    <link rel="stylesheet" type="text/css" href="../css/tree-control.css">
    <link rel="stylesheet" href="../css/graph.css">
    <link rel="stylesheet" href="data-dashboard.css">
    <link href='/font/Oxygen.css' rel='stylesheet' type='text/css'>
    <script>
      var require = {
          baseUrl: "..",
          paths: {
              'angular':              '/webjars/angularjs/1.3.15/angular',
              'angular-route':        '/webjars/angularjs/1.3.15/angular-route',
              'angular-animate':      '/webjars/angularjs/1.3.15/angular-animate',
              'angular-aria':         '/webjars/angularjs/1.3.15/angular-aria',
              'angular-material':     '/webjars/angular-material/0.10.0/angular-material',
              'angularAMD':           '/webjars/angularAMD/0.2.1-1/angularAMD',
              'ng-file-upload':       '/webjars/ng-file-upload/5.0.9/ng-file-upload',
              'angular-tree-control': '/webjars/angular-tree-control/0.2.9/angular-tree-control',  
              'd3':                   '/webjars/d3js/3.5.5/d3'
          },
          packages: [
              { name: 'when', location: '/webjars/when/3.7.3', main: 'when' }
          ],

          // Add angular modules that does not support AMD out of the box, put it in a shim
          shim: {
              'angularAMD':           ['angular'],
              'angular-route':        ['angular'],
              'angular-aria':         ['angular'],
              'angular-animate':      ['angular'],
              'angular-material':     ['angular-animate', 'angular-aria', 'angular'],
              'ng-file-upload':       ['angular'],
              'angular-tree-control': ['angular']
          },
          preloads:                   ['when/monitor/console']
      };
    </script>
    <script data-main="admin/data-dashboard.js" src="../lib/require.js"></script>
  </head>

<body ng-cloak>

  <div class=page-title> Data Dash </div>

  <div ng-controller="DataDashController as dash">
    <div layout="row">
      <md-content class="left-button-bar" layout="column">
        <md-button class="md-icon-button md-primary menu" ng-click="showLeftPanel = !showLeftPanel" aria-label="show left menu">
          <md-icon md-svg-icon="/img/icons/ic_menu_48px.svg"></md-icon>
        </md-button>

        <md-button class="md-icon-button md-primary md-hue-1 upload-button" ng-click="showUpload()" aria-label="upload a file">
          <md-icon md-svg-icon="/img/icons/ic_file_upload_48px.svg"></md-icon>
        </md-button>
      </md-content>
      <div layout="row" class="main-content">
        <div class="picker" ng-show="showLeftPanel">
          <Column-Picker search="dash.entityQuery" find-children="dash.columnsQuery"
                download-file="dash.downloadTsv" plot-data="dash.plotData"></Column-Picker>
        </div>

        <chart-with-settings api-event="firstChart"></chart-with-settings>
      </div>
    </div>

  </div>

</body>
</html>
